<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<!-- import CSS -->
	<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
	<link rel="stylesheet" href="../css/login.css">
	<!-- import Vue before Element -->
	<script src="https://unpkg.com/vue/dist/vue.js"></script>
	<!-- import JavaScript -->
	<script src="https://unpkg.com/element-ui/lib/index.js"></script>
	<!-- import JQuery -->
	<script src="https://cdn.staticfile.org/jquery/3.1.1/jquery.min.js"></script>
</head>


<style>
  
  
</style>

<body>
<div class="login" id="login">
	<el-card class="box-card">
		<h2 style="color: black">统一身份认证中心</h2>
		<el-form label-width="20%" :model="info" style="margin-top: 20%">
		<el-form-item label="学号">
			<el-input
			  placeholder="请输入学号"
			  v-model="info.studentNumber"
			  :disabled="false" style="width: 100%">
			<i slot="prefix" class="el-input__icon el-icon-user-solid"></i>
		</el-form-item>
		<el-form-item label="密码">
			<el-input
			  placeholder="请输入密码"
			  v-model="info.password"
			  :disabled="false" show-password style="width: 100%">
			<i slot="prefix" class="el-input__icon el-icon-s-home"></i>
		</el-form-item>
		<el-form-item>
		<el-button type="primary" @click="submit">登录</el-button>
		</el-form-item>
		</el-form>
		
	</el-card>

</div>
</body>





<script>
  new Vue({
    el: '#login',
    data: function() {
		return { 
			info: {"password":"root1234","studentNumber":"16211000"},
		}
    },
	methods: {
		submit(){
			var _self=this;
			console.log(_self.info.password);
					
			$.ajax({
				url: "http://58.87.72.138:30000/studentLogin",
				type: "get",
				dataType: 'json',
				contentType:"application/json",
				data: {
					info: JSON.stringify(_self.info),
				},
				success: function(res){
					console.log(res);
					if(res.err == false){
						_self.$message({
							message: 'Hi	' + res.data.username,
							type: 'success',
							center: true
						});
						
						setTimeout(() => {
							window.location.href="../index.html";
						}, 1000);
					}
					else{
						_self.$message({
							message: '用户名或密码错误',
							type: 'error',
							center: true
						});
					}
				
				},
				error: function(err){
					console.log(err);
				}
				
			})
		},
	}
  })
</script>
</html>